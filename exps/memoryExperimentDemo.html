<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="pandoc" />
  <meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="MK lab" />
  <title>Free Recall</title>
  <link href="myPlugins/jspsych_mk.css" rel="stylesheet" type="text/css">
</head>

<body>
  <!-- 必要なプラグイン -->
  <script src="jspsych/jspsych.js"></script>
  <script src="jspsych/plugins/jspsych-html-keyboard-response.js"></script>
  <!-- ここまで -->

  <!-- 実験-->
  <script type="text/javascript">

    //ようこそ画面
    var welcome = {
      type: "html-keyboard-response",
      stimulus: '<p>これから，様々な単語が5秒間，表示されます。</p>'+
      '<p>表示された単語を覚えていってください。</p>'+
     '<p>後ほど，記憶テストを行います。</p>'+
      '<p>記憶テストに回答できるよう，覚えてください。</p>'+
      '<p><br>準備ができたら，スペースキーを押してください。実験がはじまります。</p>'
    };

    //注視点
    var showFixation = {
      type: "html-keyboard-response",
      stimulus: '<div style = "font-size: 4vh">+</div>',
      trial_duration: 1000,
      choices: jsPsych.NO_KEYS,
      post_trial_gap: 500
    };

    //単語リスト
    var wordList = [
      {word: '<div style = "font-size: 4vh;">リンゴ</div>'},
      {word: '<div style = "font-size: 4vh;">ミカン</div>'},
      {word: '<div style = "font-size: 4vh;">キウイ</div>'},
      {word: '<div style = "font-size: 4vh;">イチゴ</div>'},
      {word: '<div style = "font-size: 4vh;">メロン</div>'},
    ];

    //単語を呈示
    var showLearningWord = {
      type: "html-keyboard-response",
      stimulus: jsPsych.timelineVariable('word'),
      trial_duration: 5000,
      choices: jsPsych.NO_KEYS,
      post_trial_gap: 500
    }

    //注視点と単語呈示からなる学習段階を作成
    var learningPhase = {
      timeline: [showFixation, showLearningWord],
      timeline_variables: wordList,
      randomize_order: true
    };

    //自由再生開始
    var startFreeRecall = {
      type: 'html-keyboard-response',
      stimulus: '<p>先ほど覚えた単語を思い出し，回答用紙に記入してください。</p>'+
      '<p><br>60秒が経過したら，この画面が切り替わりますので，回答をやめてください。</p>',
      trial_duration: 60000,
      choices: jsPsych.NO_KEYS
    };

    //自由再生終わり
    var stopFreeRecall = {
      type: 'html-keyboard-response',
      stimulus: '<div style = "color: tomato; font-size:4vh;"><p>回答をやめてください。</p></div>',
      trial_duration: 5000,
      choices: jsPsych.NO_KEYS
    };

    //テスト段階を構成
    var testPhase = {
      timeline: [startFreeRecall, stopFreeRecall]
    };

    //デブリーフィング
    var debriefPhase = {
      type: 'html-keyboard-response',
      stimulus: '<div style = "color: tomato; font-size:4vh;"><p>これで実験終了です。ありがとうございました！</p></div>',
      trial_duration: 5000,
      choices: jsPsych.NO_KEYS
    };

    //実験を構成
    var timeline = [];

    //各段階を追加
    timeline.push(welcome);
    timeline.push(learningPhase);
    timeline.push(testPhase);
    timeline.push(debriefPhase);

    //実験開始
    jsPsych.init({
      timeline: timeline,
    });

  </script>
  <!--ここまで-->
</body>
</html>
